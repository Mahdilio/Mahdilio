<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>LIo Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600;800&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
  <style>
    body { font-family:'Vazirmatn',sans-serif; background:#f8fafc; color:#334155; }
    .card { background:white; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.05); }
    .flag { width:24px;height:16px;display:inline-block;background-size:cover;margin-left:8px; }
    .btn { background:#06b6d4; color:white; border-radius:6px; padding:6px 12px; font-size:14px; }
    .btn:hover { background:#0891b2; }
    #qrcode svg { width:80px; height:80px; }
  </style>
</head>
<body class="p-8 space-y-8">

  <!-- Header -->
  <header class="flex items-center justify-between">
    <div class="flex items-center space-x-3 space-x-reverse">
      <!-- SVG Logo LIo -->
      <svg width="40" height="40" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="lg1" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#22d3ee"/>
            <stop offset="100%" stop-color="#a855f7"/>
          </linearGradient>
          <linearGradient id="lg2" x1="1" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#06b6d4"/>
            <stop offset="100%" stop-color="#f43f5e"/>
          </linearGradient>
        </defs>
        <circle cx="32" cy="32" r="28" fill="none" stroke="url(#lg1)" stroke-width="3"/>
        <path d="M20 20 v24 h10" fill="none" stroke="url(#lg2)" stroke-width="4" stroke-linecap="round"/>
        <circle cx="44" cy="36" r="8" fill="none" stroke="url(#lg1)" stroke-width="4"/>
      </svg>
      <h1 class="text-2xl font-semibold">LIo Dashboard</h1>
    </div>
    <div class="flex space-x-6 space-x-reverse">
      <div class="text-center">
        <div class="text-sm text-gray-500">Ping</div>
        <div id="ping" class="text-lg font-bold">-- ms</div>
      </div>
      <div class="text-center">
        <div class="text-sm text-gray-500">Uptime</div>
        <div id="uptime" class="text-lg font-bold">--%</div>
      </div>
      <div class="text-center">
        <div class="text-sm text-gray-500">Users</div>
        <div id="users" class="text-lg font-bold">--</div>
      </div>
    </div>
  </header>

  <!-- Configurations Section -->
  <section class="card p-6 space-y-4">
    <h2 class="text-xl font-semibold">Configurations</h2>
    <div id="config-list" class="space-y-3">
      <!-- JS will inject -->
    </div>
  </section>

  <!-- Subscription Link -->
  <section class="card p-6 space-y-2 text-center">
    <h2 class="text-xl font-semibold">Subscription Link</h2>
    <div class="flex items-center justify-center space-x-2 space-x-reverse">
      <input id="subLink" class="border px-3 py-1 w-full max-w-md" value="https://dev1.irdevs.sbs"/>
      <button class="btn" onclick="copyText('subLink')"><i class="fa-solid fa-copy"></i></button>
    </div>
  </section>

  <!-- Footer: Telegram -->
  <footer class="text-center">
    <a id="tgLink" href="#" target="_blank" class="inline-flex items-center space-x-2 space-x-reverse text-brand-600 hover:underline">
      <i class="fa-brands fa-telegram text-xl"></i>
      <span>Join our Telegram</span>
    </a>
  </footer>

  <script>
    // Placeholder data
    const configs = [
      {country:'US', name:'USA Server', config:'vless://abc...'},
      {country:'DE', name:'Germany Server', config:'vless://def...'},
      {country:'NL', name:'Netherlands', config:'vless://ghi...'},
      {country:'FR', name:'France', config:'vless://jkl...'}
    ];
    const flags = {US:'https://flagcdn.com/us.svg',DE:'https://flagcdn.com/de.svg',NL:'https://flagcdn.com/nl.svg',FR:'https://flagcdn.com/fr.svg'};

    function init(){
      // Stats
      document.getElementById('ping').textContent='45 ms';
      document.getElementById('uptime').textContent='99.99%';
      document.getElementById('users').textContent='128';

      // Config list
      const container = document.getElementById('config-list');
      configs.forEach((c,i)=>{
        const div=document.createElement('div');
        div.className='flex items-center justify-between';
        div.innerHTML=`
          <div class="flex items-center">
            <span class="flag" style="background-image:url(${flags[c.country]});"></span>
            <span>${c.name}</span>
          </div>
          <div class="flex items-center space-x-2 space-x-reverse">
            <button class="btn" onclick="copyConfig(${i})"><i class="fa-solid fa-copy"></i></button>
            <button class="btn" onclick="showQR(${i})"><i class="fa-solid fa-qrcode"></i></button>
          </div>`;
        container.appendChild(div);
      });
    }

    function copyConfig(idx){
      navigator.clipboard.writeText(configs[idx].config)
        .then(_=>alert('Copied✅'))
        .catch(_=>alert('Error❌'));
    }
    function showQR(idx){
      const qrWin = window.open('', '_blank');
      qrWin.document.write('<div id="qrcode"></div>');
      const qr = qrcode(0,'M'); qr.addData(configs[idx].config); qr.make();
      qrWin.document.getElementById('qrcode').innerHTML = qr.createSvgTag({cellSize:4,margin:2});
    }
    function copyText(id){
      const txt=document.getElementById(id).value;
      navigator.clipboard.writeText(txt).then(_=>alert('Copied✅'));
    }

    // Set Telegram link placeholder
    document.getElementById('tgLink').href='https://t.me/YourChannel';

    document.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
